
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://namtx.dev/obsidian-publish/Notes/V%C3%A0i%20ghi%20ch%C3%A9p%20v%E1%BB%81%20Process/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.2">
    
    
      
        <title>Vài ghi chép về Process - My Obsidian Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#process-id" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="My Obsidian Notes" class="md-header__button md-logo" aria-label="My Obsidian Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Obsidian Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Vài ghi chép về Process
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Books/Building%20Microservices%20-%20Summary/" class="md-tabs__link">
        Books
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Data%20structures%20and%20Algorithms/" class="md-tabs__link">
        Data structures and Algorithms
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Interview/DNS/" class="md-tabs__link">
        Interview
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../CDK/" class="md-tabs__link md-tabs__link--active">
        Notes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../System%20Design/Book%20-%20Building%20Microservices/" class="md-tabs__link">
        System Design
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="My Obsidian Notes" class="md-nav__button md-logo" aria-label="My Obsidian Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Obsidian Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Books
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Books" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Books
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Books/Building%20Microservices%20-%20Summary/" class="md-nav__link">
        Building Microservices   Summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Books/Programming%20Concurrency%20on%20the%20JVM/" class="md-nav__link">
        Programming Concurrency on the JVM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Data structures and Algorithms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data structures and Algorithms" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data structures and Algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/" class="md-nav__link">
        Binary Search Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search/" class="md-nav__link">
        Binary Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Priority%20Queue/" class="md-nav__link">
        Priority Queue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Reading%20List/" class="md-nav__link">
        Reading List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Rolling%20Hash/" class="md-nav__link">
        Rolling Hash
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Binary Search Tree
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Binary Search Tree" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Binary Search Tree
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/Construct%20BST%20from%20given%20preorder%20traversal/" class="md-nav__link">
        Construct BST from given preorder traversal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/Delete/" class="md-nav__link">
        Delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/LCA/" class="md-nav__link">
        LCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/Search%20And%20Insertion/" class="md-nav__link">
        Search And Insertion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Binary%20Search%20Tree/Unique%20Binary%20Search%20Trees%20II/" class="md-nav__link">
        Unique Binary Search Trees II
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" type="checkbox" id="__nav_3_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_8">
          Graph
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Graph/MST/" class="md-nav__link">
        MST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Graph/Strongly%20Connected%20Components/" class="md-nav__link">
        Strongly Connected Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_9" type="checkbox" id="__nav_3_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_9">
          Leetcode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Leetcode" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_9">
          <span class="md-nav__icon md-icon"></span>
          Leetcode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/1209.%20Remove%20All%20Adjacent%20Duplicates%20in%20String%20II/" class="md-nav__link">
        1209. Remove All Adjacent Duplicates in String II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/1268.%20Search%20Suggestions%20System/" class="md-nav__link">
        1268. Search Suggestions System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/216.%20Combination%20Sum%20III/" class="md-nav__link">
        216. Combination Sum III
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2240.%20Number%20of%20Ways%20to%20Buy%20Pens%20and%20Pencils/" class="md-nav__link">
        2240. Number of Ways to Buy Pens and Pencils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2246.%20Longest%20Path%20With%20Different%20Adjacent%20Characters/" class="md-nav__link">
        2246. Longest Path With Different Adjacent Characters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2257.%20Count%20Unguarded%20Cells%20in%20the%20Grid/" class="md-nav__link">
        2257. Count Unguarded Cells in the Grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2295.%20Replace%20Elements%20in%20an%20Array/" class="md-nav__link">
        2295. Replace Elements in an Array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2303.%20Calculate%20Amount%20Paid%20in%20Taxes/" class="md-nav__link">
        2303. Calculate Amount Paid in Taxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/2391.%20Minimum%20Amount%20of%20Time%20to%20Collect%20Garbage/" class="md-nav__link">
        2391. Minimum Amount of Time to Collect Garbage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/300.%20Longest%20Increasing%20Subsequence/" class="md-nav__link">
        300. Longest Increasing Subsequence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/304.%20Range%20Sum%20Query%202D%20-%20Immutable/" class="md-nav__link">
        304. Range Sum Query 2D   Immutable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/329.%20Longest%20Increasing%20Path%20in%20a%20Matrix/" class="md-nav__link">
        329. Longest Increasing Path in a Matrix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/745.%20Prefix%20and%20Suffix%20Search/" class="md-nav__link">
        745. Prefix and Suffix Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/823.%20Binary%20Trees%20With%20Factors/" class="md-nav__link">
        823. Binary Trees With Factors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Design%20a%20Text%20Editor/" class="md-nav__link">
        Design a Text Editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Increasing%20Order%20Search%20Tree/" class="md-nav__link">
        Increasing Order Search Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/K%20Closest%20Points%20to%20Origin/" class="md-nav__link">
        K Closest Points to Origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Koko%20Eating%20Bananas/" class="md-nav__link">
        Koko Eating Bananas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Maximum%20Candies%20Allocated%20to%20K%20Children/" class="md-nav__link">
        Maximum Candies Allocated to K Children
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Maximum%20Score%20From%20Removing%20Stones/" class="md-nav__link">
        Maximum Score From Removing Stones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Minimize%20Result%20by%20Adding%20Parentheses%20to%20ExpressionUntitled/" class="md-nav__link">
        Minimize Result by Adding Parentheses to ExpressionUntitled
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Minimum%20Limit%20of%20Balls%20in%20a%20Bag/" class="md-nav__link">
        Minimum Limit of Balls in a Bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/N%20Queens%20II/" class="md-nav__link">
        N Queens II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Data%20structures%20and%20Algorithms/Leetcode/Weekly%20contest%20286/" class="md-nav__link">
        Weekly contest 286
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Interview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Interview" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Interview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/DNS/" class="md-nav__link">
        DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/Index/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/Networking/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/Operating%20System/" class="md-nav__link">
        Operating System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/Process/" class="md-nav__link">
        Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/TCP/" class="md-nav__link">
        TCP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/Thread/" class="md-nav__link">
        Thread
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/UDP/" class="md-nav__link">
        UDP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Interview/emphemeral%20port/" class="md-nav__link">
        Emphemeral port
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CDK/" class="md-nav__link">
        CDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Designing%20Data-Intensive%20Applications/" class="md-nav__link">
        Designing Data Intensive Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HTTP%20Status%20Codes/" class="md-nav__link">
        HTTP Status Codes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../How%20does%20HTTPS%20work%3F/" class="md-nav__link">
        How does HTTPS work?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Index/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Libs/" class="md-nav__link">
        Libs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Links/" class="md-nav__link">
        Links
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Load-balancing%20in%20gRPC/" class="md-nav__link">
        Load balancing in gRPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Microservice%20-%20Learning%20resources/" class="md-nav__link">
        Microservice   Learning resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Network%20Timing%20breakdown%20phases%20explained/" class="md-nav__link">
        Network Timing breakdown phases explained
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PostgreSQL%20autovacuum%20launcher%20process/" class="md-nav__link">
        PostgreSQL autovacuum launcher process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Rate%20Limiting%20Algorithms/" class="md-nav__link">
        Rate Limiting Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../React%20re-rendering%20and%20useContext/" class="md-nav__link">
        React re rendering and useContext
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tailwindcss%20with%20Parcel/" class="md-nav__link">
        Tailwindcss with Parcel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Unix%20Processes/" class="md-nav__link">
        Unix Processes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Untitled/" class="md-nav__link">
        Untitled
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Vài ghi chép về Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Vài ghi chép về Process
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-id" class="md-nav__link">
    Process ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parent-process" class="md-nav__link">
    Parent process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-descriptor" class="md-nav__link">
    File descriptor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fork-process" class="md-nav__link">
    Fork process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orphaned-processes" class="md-nav__link">
    Orphaned Processes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processwait" class="md-nav__link">
    Process.wait
  </a>
  
    <nav class="md-nav" aria-label="Process.wait">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#race-condition" class="md-nav__link">
    Race condition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoombie-process" class="md-nav__link">
    Zoombie process
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Where%20to%20store%20JWT%20token%20at%20client%20side%3F/" class="md-nav__link">
        Where to store JWT token at client side?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          System Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="System Design" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          System Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/Book%20-%20Building%20Microservices/" class="md-nav__link">
        Book   Building Microservices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/Design%20Notification%20System/" class="md-nav__link">
        Design Notification System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/High%20Performance%20MySQL/" class="md-nav__link">
        High Performance MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/JWT/" class="md-nav__link">
        JWT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/Microservice%20Patterns/" class="md-nav__link">
        Microservice Patterns
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/Read%20list/" class="md-nav__link">
        Read list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/Service%20to%20Service%20Authentication/" class="md-nav__link">
        Service to Service Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/System%20Design%20Reading%20List/" class="md-nav__link">
        System Design Reading List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/saga%20pattern/" class="md-nav__link">
        Saga pattern
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../System%20Design/transactional%20outbox%20pattern/" class="md-nav__link">
        Transactional outbox pattern
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-id" class="md-nav__link">
    Process ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parent-process" class="md-nav__link">
    Parent process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-descriptor" class="md-nav__link">
    File descriptor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fork-process" class="md-nav__link">
    Fork process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orphaned-processes" class="md-nav__link">
    Orphaned Processes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processwait" class="md-nav__link">
    Process.wait
  </a>
  
    <nav class="md-nav" aria-label="Process.wait">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#race-condition" class="md-nav__link">
    Race condition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoombie-process" class="md-nav__link">
    Zoombie process
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Vài ghi chép về Process</h1>

<h3 id="process-id">Process ID</h3>
<p>Mỗi process đều có một unique ID, nó giống như số chứng minh nhân dân của mình vậy.
Thử chạy command sau ở <code>irb</code> (interactive ruby), ta có process đang chạy <code>irb</code> có ID là <code>96160</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">puts</span> <span class="no">Process</span><span class="o">.</span><span class="n">pid</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> <span class="o">=&gt;</span> <span class="mi">96160</span>
</code></pre></div>
<p>Mở một terminal khác rồi chạy command sau, ta sẽ lấy được một số thông tin cơ bản về process đó thông qua ID.
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">ps -p &lt;process-id&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="go">  PID TTY           TIME CMD</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="go">96160 ttys002    0:00.45 irb</span>
</code></pre></div></p>
<h3 id="parent-process">Parent process</h3>
<p>Mỗi process chạy OS đều có process cha, nó có thể lấy process ID của process cha bằng <code>ppid</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="no">Process</span><span class="o">.</span><span class="n">ppid</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> <span class="o">=&gt;</span> <span class="mi">24569</span>
</code></pre></div>
<p>Thử đoán xem process có ID <code>24569</code> là process nào?</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="go">ps -p 24569</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">  PID TTY           TIME CMD</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="go">24569 ttys002    0:04.95 -zsh</span>
</code></pre></div>
<p>Vì mình chạy <code>irb</code> thông qua <code>zsh</code> nên process cha của <code>irb</code> sẽ là <code>zsh</code>.</p>
<h3 id="file-descriptor">File descriptor</h3>
<blockquote>
<p>in the land of Unix ‘everything is a file’</p>
</blockquote>
<p>Giống như mỗi process đều có một unique ID, bất cứ lúc nào chúng ta mở một resource (files, sockets, devices,...) trong một process, thì resource đó cũng được đánh số thứ tự <code>fileno</code>
<code>fileno</code> sẽ luôn là số nhỏ nhất mà chưa được sử dụng</p>
<p>Run command sau ở <code>irb</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">passwd</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/etc/passwd&#39;</span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nb">puts</span> <span class="n">passwd</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> <span class="o">=&gt;</span> <span class="mi">3</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">hosts</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/etc/hosts&#39;</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nb">puts</span> <span class="n">hosts</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a> <span class="o">=&gt;</span> <span class="mi">4</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="c1"># Khi close file, thì file descriptor cũng sẽ bị xoá</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="c1"># fileno `3` sẽ có thể được sử dụng lại khi process mở một resource khác.</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="n">passwd</span><span class="o">.</span><span class="n">close</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="n">null</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/dev/null&#39;</span><span class="p">)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="nb">puts</span> <span class="n">null</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a> <span class="o">=&gt;</span> <span class="mi">3</span>
</code></pre></div>
<p>Chúng ta có thể thắc mắc ở đây</p>
<blockquote>
<p><code>fileno</code> sẽ luôn là số nhỏ nhất mà chưa được sử dụng</p>
</blockquote>
<p>ở trên chỉ thấy <code>fileno</code> là <code>3</code> là nhỏ nhất, vậy <code>0</code>, <code>1</code>, <code>2</code> đi đâu rồi?</p>
<p>Câu trả lời là, mỗi process khi chạy đều sẽ mở sẵn 3 resources. <code>STDIN</code>, <code>STDOUT</code>, <code>STDERR</code></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">puts</span> <span class="no">STDIN</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a> <span class="o">=&gt;</span> <span class="mi">0</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">puts</span> <span class="no">STDOUT</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a> <span class="o">=&gt;</span> <span class="mi">1</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">puts</span> <span class="no">STDERR</span><span class="o">.</span><span class="n">fileno</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a> <span class="o">=&gt;</span> <span class="mi">2</span>
</code></pre></div>
Đây là 3 resources tiêu chuẩn của mỗi process.
- <code>STDIN</code> (input) là để nhận input từ keyboard, pipes (nhận user input từ bàn phím)
- <code>STDOUT</code> (output) là để process có thể ghi output ra ngoài devices, (in kết quả ra terminal)
- <code>STDERR</code> (error) là để process có thể ghi lỗi ra bên ngoài (ghi lỗi ra file log chẳng hạn)</p>
<h3 id="fork-process">Fork process</h3>
<p>Để tạo một process con từ một process cha, UNIX cung cấp cho chúng ta một API <code>fork</code></p>
<p>Process con sau khi fork từ process cha sẽ giống hệt process cha từ memory đến file descriptor.</p>
<p>Như đoạn đầu đã giới thiệu, process con sẽ có <code>ppid</code> là <code>pid</code> của process cha.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># In ra process id hiện tại</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">puts</span> <span class="s2">&quot;Parent process ID: </span><span class="si">#{</span><span class="no">Process</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1"># =&gt; Parent process ID: 99719</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># fork một child process</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="c1"># In ra process id của child process</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    <span class="nb">puts</span> <span class="no">Process</span><span class="o">.</span><span class="n">pid</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="c1"># =&gt; 99762</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="c1"># In ra parent process id của child process</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>    <span class="nb">puts</span> <span class="no">Process</span><span class="o">.</span><span class="n">ppid</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>    <span class="c1"># =&gt; 99719</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="k">end</span>
</code></pre></div>
<p>Process con sẽ thừa kế lại toàn bộ file descriptor đang mở của process cha. <code>fileno</code> cũng sẽ không hề thay đổi. Vì vậy nên process con có thể dùng chung file, sockets với process cha.</p>
<p>Process con cũng sẽ thừa kế toàn bộ memory của process cha.</p>
<p>Ví dụ, chúng ta có một app Rails trong RAM 500MB, thì khi fork một process, process con cũng sẽ chiếm thêm 500MB memory copy từ process cha.</p>
<p>Sử dụng <code>fork</code> cho phép chúng ta có thể tạo thêm nhiều App instances trong tích tắc.</p>
<p>Nhưng như đã nói ở trên, việc copy sẽ rất tốn kém về RAM.</p>
<p>UNIX optimize nhược điểm trên bằng cơ chế copy-on-write (CoW), sau khi <code>fork</code>, nếu process cha hoặc process con chưa modify lại data thì việc copy sẽ được delay, và chỉ được thực hiện khi process cha hoặc process con modify.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">arr</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="c1"># Bên trong process con</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="c1"># Tại thời điểm này, process con chưa modify `arr` nên nó sẽ tiếp tục đọc shared data từ process cha, không copy data</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="nb">puts</span> <span class="n">arr</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">arr</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="c1"># giống như ở phía trên, chưa có quá trình copy nào xảy ra cả</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="c1"># Dòng code trên modify `arr` nên một bản copy của `arr` sẽ được tạo trong memory, và process con sẽ đọc từ đó, process cha vẫn tiếp tục đọc từ vùng nhớ của riêng nó, không liên quan đến process con.</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="k">end</span>
</code></pre></div>
<h3 id="orphaned-processes">Orphaned Processes</h3>
<p>Chuyện gì sẽ xảy ra nếu sau khi <code>fork</code> một process con, và trong khi process con đó đang chạy thì process cha bị kill? </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># test_orphan.rb</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>        <span class="nb">sleep</span> <span class="mi">1</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>        <span class="nb">puts</span> <span class="s2">&quot;I&#39;m an orphan&quot;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="k">end</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="k">end</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="nb">abort</span> <span class="s2">&quot;Parent process dies...&quot;</span>
</code></pre></div>
<p>khi chạy file trên ở terminal bằng <code>ruby test_orphan.rb</code>, ta sẽ thấy parent process sẽ dừng ngay lập tức, nhưng mà process vẫn còn chạy tiếp, process con vẫn còn tiếp tục ghi output ra <code>STDOUT</code> (terminal)</p>
<p>Khi một parent process die, OS sẽ để nguyên process con, không làm gì nó cả, nó vẫn sẽ tiếp tục chạy.</p>
<p>Vậy, orphan child process thì có tác dụng gì?</p>
<ul>
<li>Daemon process: thông thường khi ta muốn chạy một long running processes như: database server hay web server, chúng ta sẽ chạy ở chế độ daemon. Daemon process đơn giản là process được chủ ý cho trở thành orphan process.</li>
<li>Vậy làm sao chúng ta có thể giao tiếp với orphan process? ta có thể giao tiếp với orphan process bằng UNIX signals.</li>
</ul>
<h3 id="processwait">Process.wait</h3>
<p>Từ những ví dụ ở trên, ta có thể thấy process cha sau khi fork sẽ chạy song song với process con, và sẽ xảy ra những case như trên, khi process cha đã exit nhưng process con vẫn còn chạy.</p>
<p>Vậy làm sao process cha có thể quản lý được các process con?</p>
<p>Trong Ruby, chúng ta có thể sử dụng <code>Process.wait</code> ở proces cha để có thể chờ cho process con exit.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        <span class="nb">sleep</span> <span class="mi">1</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>        <span class="nb">puts</span> <span class="s2">&quot;Child process&quot;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="k">end</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="k">end</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="no">Process</span><span class="o">.</span><span class="n">wait</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="nb">abort</span> <span class="s2">&quot;Parent process exits...&quot;</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="go">Child process</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="go">Child process</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="go">Child process</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="go">Child process</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="go">Child process</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="go">Parent process exits...</span>
</code></pre></div></p>
<p><code>Process.wait</code> là blocking call, nghĩa là process cha sẽ dừng lại để chờ cho một process con exit, sau đó nó sẽ tiếp tục công việc của mình.</p>
<p><strong>Chờ nhiều process con???</strong></p>
<p>Do <code>Process.wait</code> chỉ chờ duy nhất 1 process con exit nên khi có nhiều process con, ta phải gọi <code>Process.wait</code> tương ứng với số process con đang chạy</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>        <span class="nb">sleep</span> <span class="mi">1</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>        <span class="nb">puts</span> <span class="s2">&quot;Child process&quot;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="k">end</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="k">end</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="no">Process</span><span class="o">.</span><span class="n">wait</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="k">end</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="nb">puts</span> <span class="s2">&quot;Parent process exits...&quot;</span>
</code></pre></div>
<h4 id="race-condition">Race condition</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Fork ra 2 process con</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="mi">2</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="nb">fork</span> <span class="k">do</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>        <span class="c1"># Process con exit ngay lập tức</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>        <span class="nb">abort</span> <span class="s2">&quot;Children process finished&quot;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="k">end</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">end</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="c1"># Process cha chờ process con đầu tiên exit, sau đó sleep 5s</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="c1"># Trong khi process cha đang sleep thì process con thứ 2 exit.</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="nb">puts</span> <span class="no">Process</span><span class="o">.</span><span class="n">wait</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="nb">sleep</span> <span class="mi">5</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="c1"># Thông tin về process thứ 2 vẫn còn lúc sau đó</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="c1"># OS đã lưu lại info của process ngay cả sau khi nó exit.</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="nb">puts</span> <span class="no">Process</span><span class="o">.</span><span class="n">wait</span>
</code></pre></div>
<p>Có thể thấy, OS sẽ lưu lại info của process con và trả về cho process cha, ngay cả khi process con đã exit rất lâu.</p>
<h3 id="zoombie-process">Zoombie process</h3>
<p>Việc lưu lại info của process con và trả về cho process cha có một vấn đề, đó là mặc dù process con đã kết thúc từ rất lâu, nhưng nếu process cha không gọi <code>Process.wait</code> thì info về trạng thái của process con sẽ tồn tại mãi, khiến cho việc sử dụng tài nguyên của OS không hiệu quả.
Và process con sẽ trở thành <code>Zoombie process</code>.</p>
<p>Chúng ta có thể sử dụng <code>Process.detach(pid)</code> để có clean up.</p>
<p><code>Process.detach</code> đơn giản chỉ tạo ra một thread và làm một việc đơn giản là chờ process con đó kết thúc.</p>
<p><a href="https://github.com/namtx/til/issues/148">Process.detach</a></p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Untitled/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Untitled" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Untitled
            </div>
          </div>
        </a>
      
      
        
        <a href="../Where%20to%20store%20JWT%20token%20at%20client%20side%3F/" class="md-footer__link md-footer__link--next" aria-label="Next: Where to store JWT token at client side?" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Where to store JWT token at client side?
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>